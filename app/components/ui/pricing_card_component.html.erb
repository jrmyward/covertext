<%= render UI::CardComponent.new(outer_class: "card border-base-300 border p-3") do %>
  <div class="<%= header_classes %>">
    <% if @badge_style == "badge-ghost" %>
      <h3 class="<%= tier_classes %>"><%= @tier %></h3>
    <% else %>
      <div class="flex justify-between">
        <h3 class="<%= tier_classes %>"><%= @tier %></h3>
        <div class="badge <%= @badge_style %> badge-sm"><%= @badge_text %></div>
      </div>
    <% end %>

    <p class="mt-4 flex items-baseline">
      <!-- Monthly pricing (hidden when yearly is checked) -->
      <span class="<%= price_classes %> group-has-[[value=yearly]:checked]:hidden">
        <data value="<%= @monthly_price %>"><%= monthly_price_display %></data>
      </span>
      <!-- Yearly pricing (hidden when monthly is checked, shown by default since yearly is checked) -->
      <span class="<%= price_classes %> group-has-[[value=monthly]:checked]:hidden">
        <data value="<%= @yearly_price %>"><%= yearly_price_display %></data>
      </span>
      <span class="ml-1 text-xl font-medium">
        <span class="group-has-[[value=yearly]:checked]:hidden">/month</span>
        <span class="group-has-[[value=monthly]:checked]:hidden">/year</span>
      </span>
    </p>

    <% if @description.present? %>
      <p class="mt-6<%= ' line-clamp-2 overflow-ellipsis' if @description.length > 100 %>"><%= @description %></p>
    <% end %>
  </div>

  <div class="p-6">
    <ul class="list-inside list-disc space-y-3" role="list">
      <% @features.each do |feature| %>
        <li>
          <span class="ms-3"><%= feature %></span>
        </li>
      <% end %>
    </ul>
  </div>

  <%= link_to @cta_text, @cta_url, class: cta_classes, data: { pricing_target: "cta", plan: @tier.downcase } %>
<% end %>
